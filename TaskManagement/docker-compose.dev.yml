networks:
  tms_jar:
    driver: bridge

volumes:
  db_data:

services:
  nginx:
    extends:
      file: docker-compose.yml
      service: nginx

  db:
    extends:
      file: docker-compose.yml
      service: db

  phpmyadmin:
    extends:
      file: docker-compose.yml
      service: phpmyadmin

  spring_app:
    extends:
      file: docker-compose.yml
      service: spring_app
    build: 
      context: .
      dockerfile: Dockerfile.dev
    volumes:  
      - ./:/app
    environment:
      NGINX_HOST_NAME: ${NGINX_HOST_NAME:-tms.uit.local}
      NGINX_HOST_HTTP_PORT: ${NGINX_HOST_HTTP_PORT:-8095}
      SPRING_HOST_PORT: ${SPRING_HOST_PORT:-8085}
